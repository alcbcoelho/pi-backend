{
  "openapi": "3.0.3",
  "info": {
    "title": "Playlistenin': crie playlists com suas m칰sicas favoritas 游꿨",
    "description": "API REST com dados de m칰sicas, playlists e usu치rios para um aplicativo fict칤cio de cria칞칚o de playlists.",
    "version": "0.0.1"
  },
  "servers": [
    {
      "url": "http://localhost:3000"
    }
  ],
  "tags": {
    "name": "users",
    "description": "Dados e opera칞칫es envolvendo usu치rios.",
    "name": "users",
    "description": "Dados e opera칞칫es envolvendo usu치rios.",
    "name": "users",
    "description": "Dados e opera칞칫es envolvendo usu치rios."
  },
  "paths": {
    "/songs": {
      "get": {
        "tags": ["Songs"],
        "summary": "Visualizar lista de m칰sicas",
        "description": "Retorna um array de objetos com atributos de cada m칰sica dispon칤vel. Caso os par칙metros de consulta (query params) sejam especificados, a(s) m칰sica(s) retornada(s) 칠(s칚o) filtrada(s) de acordo com cada par칙metro.",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "description": "Nome da m칰sica pelo qual se deseja filtrar resultados",
            "required": false
          },
          {
            "name": "artist",
            "in": "query",
            "description": "Nome do artista pelo qual se deseja filtrar resultados",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Users"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Indisponibilidade de m칰sicas cadastradas"
          }
        }
      },
      "post": {
        "tags": ["Songs"],
        "summary": "Inserir nova m칰sica",
        "description": "Insere uma nova m칰sica ao array de m칰sicas dispon칤veis.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Songs"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "M칰sica inserida",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Songs"
                }
              }
            }
          },
          "400": {
            "description": "Atributos insuficientes"
          }
        }
      }
    },
    "/songs/{id}": {
      "get": {
        "tags": ["Songs"],
        "summary": "Visualizar m칰sica por ID",
        "description": "Retorna um objeto com atributos da m칰sica de ID correspondente ao par칙metro inserido na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da m칰sica",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "M칰sica encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Songs"
                }
              }
            }
          },
          "404": {
            "description": "M칰sica n칚o encontrada"
          }
        }
      },
      "put": {
        "tags": ["Songs"],
        "summary": "Atualizar m칰sica",
        "description": "Atualiza atributos de m칰sica de ID correspondente ao par칙metro especificado na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da m칰sica",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Songs"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Atributo(s) atualizado(s)"
          },
          "404": {
            "description": "M칰sica n칚o encontrada"
          }
        }
      },
      "delete": {
        "tags": ["Songs"],
        "summary": "Remover m칰sica",
        "description": "Remove do array de m칰sicas a m칰sica de ID correspondente ao par칙metro especificado na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da m칰sica",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "M칰sica removida",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string",
                  "example": "<b><span style='color: #ff0000;'>ABBA - Dancing Queen (ID #1)</span></b> removida com sucesso."
                }
              }
            }
          },
          "404": {
            "description": "M칰sica n칚o encontrada"
          }
        }
      }
    },
    "/playlists": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Visualizar lista de playlists",
        "description": "Retorna um array de objetos com atributos de cada playlist dispon칤vel.",
        "responses": {
          "200": {
            "description": "Playlist encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Playlists"
                }
              }
            }
          },
          "404": {
            "description": "Indisponibilidade de playlists cadastradas"
          }
        }
      },
      "post": {
        "tags": ["Playlists"],
        "summary": "Criar nova playlist",
        "description": "Insere uma nova playlist ao array de playlists dispon칤veis.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Playlists"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Playlist inserida",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Playlists"
                }
              }
            }
          },
          "400": {
            "description": "Atributos insuficientes"
          }
        }
      }
    },
    "/playlists/{id}": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Visualizar playlist por ID",
        "description": "Retorna um objeto com atributos da playlist de ID correspondente ao par칙metro inserido na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da playlist",
            "required": true
          }
        ],
        "responses": {
          "201": {
            "description": "Playlist encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "$ref": "#/components/schemas/Playlists"
                }
              }
            }
          },
          "404": {
            "description": "Playlist n칚o encontrada"
          }
        }
      },
      "put": {
        "tags": ["Playlists"],
        "summary": "Atualizar playlist",
        "description": "Atualiza atributos da playlist de ID correspondente ao par칙metro especificado na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da playlist",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Playlists"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Atributo(s) atualizado(s)"
          },
          "404": {
            "description": "Playlist n칚o encontrada"
          }
        }
      },
      "delete": {
        "tags": ["Playlists"],
        "summary": "Remover playlist",
        "description": "Remove do array de playlists a playlist de ID correspondente ao par칙metro especificado na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID da playlist",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Playlist removida",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string",
                  "example": "Playlist <b><span style='color: #ff0000;'>Rock Anos 70 (ID #1)</span></b> removida com sucesso."
                }
              }
            }
          },
          "404": {
            "description": "Playlist n칚o encontrada"
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": ["Users"],
        "summary": "Visualizar lista de usu치rios",
        "description": "Retorna um array de objetos com atributos de cada usu치rio cadastrado. Caso especificado um nome de usu치rio como par칙metro de consulta (query param), 칠 retornado o objeto associado a este usu치rio.",
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "description": "Nome do usu치rio que se deseja visualizar",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usu치rios cadastrados",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Users"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Indisponibilidade de usu치rios cadastrados"
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Cadastrar novo usu치rio",
        "description": "Insere um novo usu치rio ao array de usu치rios cadastrados.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Users"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usu치rio inserido",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Users"
                }
              }
            }
          },
          "400": {
            "description": "Nome de usu치rio j치 em uso"
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "tags": ["Users"],
        "summary": "Visualizar usu치rio por ID",
        "description": "Retorna um objeto com atributos do usu치rio de ID correspondente ao par칙metro inserido na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID do usu치rio",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Usu치rio encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "$ref": "#/components/schemas/Users"
                }
              }
            }
          },
          "404": {
            "description": "Usu치rio n칚o encontrado"
          }
        }
      },
      "put": {
        "tags": ["Users"],
        "summary": "Atualizar usu치rio",
        "description": "Atualiza atributos do usu치rio de ID correspondente ao par칙metro especificado na URL.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID do usu치rio",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Users"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Atributo(s) atualizado(s)"
          },
          "400": {
            "description": "Nome de usu치rio j치 em uso"
          },
          "404": {
            "description": "Usu치rio n칚o encontrado"
          }
        }
      },
      "delete": {
        "tags": ["Users"],
        "summary": "Remover usu치rio",
        "description": "Remove do array de usu치rios cadastrados o usu치rio de ID correspondente ao par칙metro especificado na URL",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID do usu치rio",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Usu치rio removido",
            "content": {
              "text/html": {
                "schema": {
                  "type": "string",
                  "example": "Usu치rio de <b><span style='color: #ff0000;'>ID #77</span></b> removido com sucesso."
                }
              }
            }
          },
          "404": {
            "description": "Usu치rio n칚o encontrado"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Songs": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Dancing Queen"
          },
          "artist": {
            "type": "string",
            "example": "ABBA"
          }
        }
      },
      "Playlists": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 1
          },
          "name": {
            "type": "string",
            "example": "Rock Anos 70"
          },
          "author": {
            "type": "string",
            "example": "/users/1"
          },
          "songs": {
            "type": "string[]",
            "example": [
              "/songs/49",
              "/songs/99",
              "/songs/26",
              "/songs/39",
              "/songs/13",
              "/songs/89",
              "/songs/31",
              "/songs/2",
              "/songs/25",
              "/songs/70",
              "/songs/30",
              "/songs/50"
            ]
          }
        }
      },
      "Users": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "example": 77
          },
          "username": {
            "type": "string",
            "example": "ShadowWarrior777"
          },
          "password": {
            "type": "string",
            "example": "baleiasazuis123"
          },
          "firstName": {
            "type": "string",
            "example": "Fulano"
          },
          "lastName": {
            "type": "string",
            "example": "de Tal"
          },
          "phone": {
            "type": "string",
            "example": "99237-1991"
          },
          "email": {
            "type": "string",
            "example": "fulanodetal@teste.com"
          }
        }
      }
    }
  }
}
